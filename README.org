* Important things to remember
** Atoms are not garbage collected, how to check them
#+BEGIN_SRC
iex(1)> :erlang.system_info(:atom_limit)
1048576
iex(2)> :erlang.system_info(:atom_count)
22931
#+END_SRC

* Cool libraries to use
authentication and user management: https://github.com/danschultzer/pow
authorization: https://github.com/jarednorman/canada
CRON-like lib to log out users that did not pay: https://github.com/jbernardo95/cronex
time zones and dates: https://github.com/lau/calendar

* Translate using Gettext everywhere
After new additions:
#+BEGIN_SRC
mix gettext.extract --merge
#+END_SRC
edit LC_MESSAGES files

* Modules/Features to enable or disable
- animals
- patients
By default predefined user sets (veterinary or doctor) will enable either of them, but not both

* Database structure plan

** users
  email: string [index] [non-null]
  name: string [non-null]
  encrypted_password: string [non-null]
  subscription_ending_date: datetime [non-null]
  admin: boolean - [default:false] [index] [non-null]
  preferences: jsonb [non-null]
  language: enum [default:PL] [non-null]
  timezone: string ? [default:GMT+1 warsaw]

** patients
  name: string [non-null]
  description: text
  user_id: references[user] [index] [non-null]

** animals
  name: string [non-null]
  animal_kind: references[animal_kind]
  animal_owner: references[animal_owner]
  user_id: references[user] [index] [non-null]

animal_kinds:
  name: string [non-null]
  user_id: references[user] [index] [non-null]

animal_owners:
  name: string [non-null]
  user_id: references[user] [index] [non-null]

** visits
  name: string [non-null]
  description: text
  date: datetime (changable) [non-null]
  user_id: references[user] [non-null]

** files
  name: string [non-null]
  attachable_id: references[polymorphic] [index] [non-null]
  attachable_type: referenced_type[polymorphic] [index] [non-null]
  (+ index on pair attachable_type/attachable_id)

** prescriptions
  note: string
  name: string (optional, inherited from medicine_id if not filled-in)
  (only to inherit `name` on creation) medicine_id
  (one of two is required name or medicine_id)

** medicines
  mame: string


* Phoenix
** Usage

To start your Phoenix server:

*** Install dependencies with `mix deps.get`
*** Create and migrate your database with `mix ecto.setup`
*** Install Node.js dependencies with `cd assets && npm install`
*** Start Phoenix endpoint with `mix phx.server`

Now you can visit [`localhost:4000`](http://localhost:4000) from your browser.

Ready to run in production? Please [check our deployment guides](https://hexdocs.pm/phoenix/deployment.html).

** Learn more

*** Official website: http://www.phoenixframework.org/
*** Guides: https://hexdocs.pm/phoenix/overview.html
*** Docs: https://hexdocs.pm/phoenix
*** Mailing list: http://groups.google.com/group/phoenix-talk
*** Source: https://github.com/phoenixframework/phoenix
